# ==============================================
# Hedera MCP Server Configuration (Dual-Mode)
# ==============================================

# Database Configuration - supports both SQLite and PostgreSQL
# For SQLite (development/testing):
# DATABASE_URL=sqlite://./data/credits.db
# For PostgreSQL (production):
DATABASE_URL=postgresql://mcpuser:mcppass@localhost:5432/mcpserver
POSTGRES_DB=mcpserver
POSTGRES_USER=mcpuser
POSTGRES_PASSWORD=mcppass

# Hedera Network Configuration
HEDERA_NETWORK=testnet
HEDERA_OPERATOR_ID=0.0.123456
HEDERA_OPERATOR_KEY=your_operator_private_key_here

# Server Account for HBAR Payments & HCS-10 Identity (REQUIRED)
SERVER_ACCOUNT_ID=0.0.789012
SERVER_PRIVATE_KEY=your_server_account_private_key_here

# ==============================================
# HCS-10 Dual-Mode Configuration
# ==============================================
# Set ENABLE_HCS10=false to run in MCP-only mode
ENABLE_HCS10=true

# Registration State Management
# Set to true to force re-registration even if profile exists
FORCE_REREGISTER=false

# Profile check cache duration in minutes (default: 60)
PROFILE_CACHE_MINUTES=60

# ==============================================
# HCS-11 Agent Profile Configuration
# ==============================================
# Basic Agent Information
AGENT_NAME=Hedera MCP Server
AGENT_DESCRIPTION=FastMCP-powered server providing Hedera network operations with credits system
AGENT_TYPE=manual
AGENT_MODEL=mcp-server-v1

# Agent Capabilities (comma-separated numbers, see AIAgentCapability enum)
# 0=TEXT_GENERATION, 1=CONVERSATION, 4=TOKEN_OPERATIONS, 5=CONSENSUS_OPERATIONS, 11=MCP_SERVER, 14=AGENT_COMMUNICATION
AGENT_CAPABILITIES=0,1,4,5,11,14

# Profile Picture Configuration
# Can be local file path or URL
AGENT_PROFILE_PICTURE=
AGENT_PROFILE_PICTURE_URL=

# ==============================================
# Fee Configuration (Optional)
# ==============================================
# Fee collector account (defaults to SERVER_ACCOUNT_ID if not specified)
FEE_COLLECTOR_ACCOUNT_ID=

# HBAR fee per message on inbound topic (in HBAR, e.g., 0.001)
AGENT_HBAR_FEE=

# Token fee configuration (token_id:amount format, e.g., 0.0.123456:10)
AGENT_TOKEN_FEE=

# Exempt accounts from fees (comma-separated account IDs)
AGENT_EXEMPT_ACCOUNTS=

# ==============================================
# State Persistence Configuration  
# ==============================================
# Whether to persist agent data to .env file after registration
PERSIST_AGENT_DATA=true
AGENT_DATA_PREFIX=AGENT

# ==============================================
# Traditional MCP Configuration
# ==============================================
MCP_TRANSPORT=both
MCP_SERVER_VERSION=1.0.0
PORT=3000

# HTTP API Configuration
HTTP_API_PORT=3002
ADMIN_PORTAL_URL=http://localhost:3001
ADMIN_API_KEY=your_admin_api_key_here

# ==============================================
# Credits System Configuration
# ==============================================
CREDITS_CONVERSION_RATE=1000
CREDITS_MINIMUM_PAYMENT=1
CREDITS_MAXIMUM_PAYMENT=10000
CREDITS_CONFIRMATION_BLOCKS=3

# ==============================================
# Verification Configuration
# ==============================================
VERIFICATION_TYPE=dns
VERIFICATION_DOMAIN=
VERIFICATION_DNS_FIELD=hedera

# ==============================================
# Development/Logging Configuration
# ==============================================
NODE_ENV=development
LOG_LEVEL=info
ENABLE_METRICS=false
METRICS_PORT=9100
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# ==============================================
# Environment-Specific Overrides
# ==============================================

# Development Settings
# HEDERA_NETWORK=testnet
# LOG_LEVEL=debug
# RATE_LIMIT_MAX=1000
# ENABLE_METRICS=false
# ENABLE_HCS10=false

# Production Settings
# HEDERA_NETWORK=mainnet
# LOG_LEVEL=warn
# RATE_LIMIT_MAX=100
# ENABLE_METRICS=true

# ==============================================
# Quick Setup Instructions
# ==============================================
#
# TRADITIONAL MCP MODE ONLY:
# 1. Copy this file: cp env.example .env
# 2. Update HEDERA_OPERATOR_ID and HEDERA_OPERATOR_KEY
# 3. Update SERVER_ACCOUNT_ID and SERVER_PRIVATE_KEY
# 4. Set ENABLE_HCS10=false
# 5. Run: docker-compose -f docker-compose.dev.yml up
#
# DUAL-MODE (MCP + HCS-10):
# 1. Copy this file: cp env.example .env
# 2. Update HEDERA_OPERATOR_ID and HEDERA_OPERATOR_KEY
# 3. Update SERVER_ACCOUNT_ID and SERVER_PRIVATE_KEY
# 4. Create HCS topics and update INBOUND_TOPIC_ID, OUTBOUND_TOPIC_ID, PROFILE_TOPIC_ID
# 5. Set up domain verification if using dns verification
# 6. Ensure ENABLE_HCS10=true
# 7. Run: docker-compose -f docker-compose.dev.yml up
#
# ============================================== 